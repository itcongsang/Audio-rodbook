{"version":3,"file":"static/webpack/static\\development\\pages\\index.js.7b4f2c4e700eafaca575.hot-update.js","sources":["webpack:///./node_modules/rxjs-hooks/dist/esm/index.js","webpack:///./node_modules/rxjs-hooks/dist/esm/use-event-callback.js","webpack:///./node_modules/rxjs-hooks/dist/esm/use-observable.js","webpack:///./node_modules/use-constant/dist/use-constant.esm.js","webpack:///./pages/index/index.tsx"],"sourcesContent":["export * from './use-event-callback';\nexport * from './use-observable';\n//# sourceMappingURL=index.js.map","import { __read } from \"tslib\";\nimport { useEffect, useState, useCallback } from 'react';\nimport useConstant from 'use-constant';\nimport { BehaviorSubject, Subject } from 'rxjs';\nexport function useEventCallback(callback, initialState, inputs) {\n    var initialValue = (typeof initialState !== 'undefined' ? initialState : null);\n    var _a = __read(useState(initialValue), 2), state = _a[0], setState = _a[1];\n    var event$ = useConstant(function () { return new Subject(); });\n    var state$ = useConstant(function () { return new BehaviorSubject(initialValue); });\n    var inputs$ = useConstant(function () { return new BehaviorSubject(typeof inputs === 'undefined' ? null : inputs); });\n    function eventCallback(e) {\n        return event$.next(e);\n    }\n    var returnedCallback = useCallback(eventCallback, []);\n    useEffect(function () {\n        inputs$.next(inputs);\n    }, inputs || []);\n    useEffect(function () {\n        setState(initialValue);\n        var value$;\n        if (!inputs) {\n            value$ = callback(event$, state$);\n        }\n        else {\n            value$ = callback(event$, inputs$, state$);\n        }\n        var subscription = value$.subscribe(function (value) {\n            state$.next(value);\n            setState(value);\n        });\n        return function () {\n            subscription.unsubscribe();\n            state$.complete();\n            inputs$.complete();\n            event$.complete();\n        };\n    }, []); // immutable forever\n    return [returnedCallback, state];\n}\n//# sourceMappingURL=use-event-callback.js.map","import { __read } from \"tslib\";\nimport { BehaviorSubject } from 'rxjs';\nimport { useState, useEffect } from 'react';\nimport useConstant from 'use-constant';\nexport function useObservable(inputFactory, initialState, inputs) {\n    var _a = __read(useState(typeof initialState !== 'undefined' ? initialState : null), 2), state = _a[0], setState = _a[1];\n    var state$ = useConstant(function () { return new BehaviorSubject(initialState); });\n    var inputs$ = useConstant(function () { return new BehaviorSubject(inputs); });\n    useEffect(function () {\n        inputs$.next(inputs);\n    }, inputs || []);\n    useEffect(function () {\n        var output$;\n        if (inputs) {\n            output$ = inputFactory(inputs$, state$);\n        }\n        else {\n            output$ = inputFactory(state$);\n        }\n        var subscription = output$.subscribe(function (value) {\n            state$.next(value);\n            setState(value);\n        });\n        return function () {\n            subscription.unsubscribe();\n            inputs$.complete();\n            state$.complete();\n        };\n    }, []); // immutable forever\n    return state;\n}\n//# sourceMappingURL=use-observable.js.map","import { useRef } from 'react';\n\nfunction useConstant(fn) {\n  var ref = useRef();\n\n  if (!ref.current) {\n    ref.current = {\n      v: fn()\n    };\n  }\n\n  return ref.current.v;\n}\n\nexport default useConstant;\n","import { useObservable } from 'rxjs-hooks';\r\nimport React from 'react';\r\nimport Link from \"next/link\";\r\n\r\nimport Layout from 'components/global/layout';\r\nimport { getAllBooks, getAllBooks2 } from 'services/book.service';\r\nimport './styles.scss';\r\n\r\nexport const Home = () => {\r\n    getAllBooks2().subscribe(val=>{\r\n      console.log(val)\r\n    });\r\n    const res = useObservable(() => getAllBooks2(),[]);\r\n    return (\r\n    <Layout title=\"Dashbord\" description=\"This is the home page\">\r\n      <div className=\"container bt-line\">\r\n        <div className=\"row\">\r\n            <h2 className=\"title-oneach\">Đề xuất</h2>\r\n        </div>\r\n        <div className=\"row\">\r\n          {console.log(res)}\r\n            {res.map((t, i) => {\r\n            return (\r\n              <div key={i} className=\"col-md-2 rs-pad mar-bot-25\">\r\n                <Link href=\"#\">\r\n                  <a title=\"\">\r\n                      <div className=\"img-ct\">\r\n                        <img src={t.books.coverUrl} className=\"img-responsive\" />\r\n                      </div>\r\n                      <div className=\"main-ct\">\r\n                        <h3><a>{t.books.name}</a></h3>\r\n                        <span>{t.nameChannel}</span>\r\n                        <div>\r\n                          <span className=\"seen-count\">{t.books.rating} lượt xem</span>\r\n                          <span>1 tuần trước</span>\r\n                        </div>\r\n                      </div>\r\n                    </a>\r\n                </Link>\r\n                  \r\n                </div>\r\n            );\r\n          })}\r\n        \r\n        </div>\r\n      </div>\r\n    </Layout>\r\n  )\r\n}\r\n\r\n\r\nexport default Home;\r\n"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;;;;;;;;;;;;ACFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACvCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC/BA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACdA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAEA;AAAA;AAGA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAEA;AAAA;AAIA;AAAA;AASA;AAMA;AAGA;;;;A","sourceRoot":""}